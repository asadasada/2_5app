{"remainingRequest":"/home/tatsurou/myapp_01_23/nanika2/front_vue/node_modules/babel-loader/lib/index.js!/home/tatsurou/myapp_01_23/nanika2/front_vue/node_modules/eslint-loader/index.js??ref--13-0!/home/tatsurou/myapp_01_23/nanika2/front_vue/src/router.js","dependencies":[{"path":"/home/tatsurou/myapp_01_23/nanika2/front_vue/src/router.js","mtime":1613639860865},{"path":"/home/tatsurou/myapp_01_23/nanika2/front_vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tatsurou/myapp_01_23/nanika2/front_vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tatsurou/myapp_01_23/nanika2/front_vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IEhvbWUgZnJvbSAnLi9WaWV3cy9Ib21lLnZ1ZSc7CmltcG9ydCBMb2dpbiBmcm9tICcuL1ZpZXdzL0xvZ2luLnZ1ZSc7CmltcG9ydCBSZWdpc3RlciBmcm9tICcuL1ZpZXdzL1JlZ2lzdGVyLnZ1ZSc7CmltcG9ydCBEYXNoYmQgZnJvbSAnLi9WaWV3cy9EYXNoYmQudnVlJzsKVnVlLnVzZShSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAiLyIsCiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogIi9sb2dpbiIsCiAgbmFtZTogIkxvZ2luIiwKICBjb21wb25lbnQ6IExvZ2luLAogIG1ldGE6IHsKICAgIGd1ZXN0T25seTogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICIvcmVnaXN0ZXIiLAogIG5hbWU6ICJSZWdpc3RlciIsCiAgY29tcG9uZW50OiBSZWdpc3RlciwKICBtZXRhOiB7CiAgICBndWVzdE9ubHk6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAiL0Rhc2hiZCIsCiAgbmFtZTogIkRhc2hiZCIsCiAgY29tcG9uZW50OiBEYXNoYmQsCiAgbWV0YTogewogICAgYXV0aE9ubHk6IHRydWUKICB9Cn1dOyAvL2FjY2VzcyBsYXJhdmVsJ3MgdmFyIG9mIGVudgoKdmFyIHJvdXRlciA9IG5ldyBSb3V0ZXIoewogIG1vZGU6ICJoaXN0b3J5IiwKICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICByb3V0ZXM6IHJvdXRlcwp9KTsKCmZ1bmN0aW9uIGlzTG9nZ2VkSW4oKSB7CiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhdXRoIik7Cn0KCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLmF1dGhPbmx5OwogIH0pKSB7CiAgICAvLyDjgZPjga7jg6vjg7zjg4jjga/jg63jgrDjgqTjg7PjgZXjgozjgabjgYTjgovjgYvjganjgYbjgYvoqo3oqLzjgYzlv4XopoHjgafjgZnjgIIKICAgIC8vIOOCguOBl+OBleOCjOOBpuOBhOOBquOBhOOBquOCieOBsOOAgeODreOCsOOCpOODs+ODmuODvOOCuOOBq+ODquODgOOCpOODrOOCr+ODiOOBl+OBvuOBmeOAggogICAgaWYgKGlzTG9nZ2VkSW4oKSAhPT0gInRydWUiKSB7CiAgICAgIG5leHQoewogICAgICAgIHBhdGg6ICcvbG9naW4nLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICByZWRpcmVjdDogdG8uZnVsbFBhdGgKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0gZWxzZSBpZiAodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgIHJldHVybiByZWNvcmQubWV0YS5hdXRoT25seTsKICB9KSkgewogICAgaWYgKGlzTG9nZ2VkSW4oKSA9PT0gInRydWUiKSB7CiAgICAgIG5leHQoewogICAgICAgIHBhdGg6ICcvSG9tZScsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHJlZGlyZWN0OiB0by5mdWxsUGF0aAogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIG5leHQoKTsgLy8gbmV4dCgpIOOCkuW4uOOBq+WRvOOBs+WHuuOBmeOCiOOBhuOBq+OBl+OBpuOBj+OBoOOBleOBhCEKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/home/tatsurou/myapp_01_23/nanika2/front_vue/src/router.js"],"names":["Vue","Router","Home","Login","Register","Dashbd","use","routes","path","name","component","meta","guestOnly","authOnly","router","mode","base","process","env","BASE_URL","isLoggedIn","localStorage","getItem","beforeEach","to","from","next","matched","some","record","query","redirect","fullPath"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AAEAL,GAAG,CAACM,GAAJ,CAAQL,MAAR;AAEA,IAAMM,MAAM,GAAG,CACX;AACIC,EAAAA,IAAI,EAAE,GADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGIC,EAAAA,SAAS,EAAER;AAHf,CADW,EAMX;AACIM,EAAAA,IAAI,EAAE,QADV;AAEIC,EAAAA,IAAI,EAAE,OAFV;AAGIC,EAAAA,SAAS,EAAEP,KAHf;AAIIQ,EAAAA,IAAI,EAAE;AAAEC,IAAAA,SAAS,EAAC;AAAZ;AAJV,CANW,EAYX;AACIJ,EAAAA,IAAI,EAAE,WADV;AAEIC,EAAAA,IAAI,EAAE,UAFV;AAGIC,EAAAA,SAAS,EAAEN,QAHf;AAIIO,EAAAA,IAAI,EAAE;AAAEC,IAAAA,SAAS,EAAC;AAAZ;AAJV,CAZW,EAkBX;AACIJ,EAAAA,IAAI,EAAE,SADV;AAEIC,EAAAA,IAAI,EAAE,QAFV;AAGIC,EAAAA,SAAS,EAAEL,MAHf;AAIIM,EAAAA,IAAI,EAAE;AAAEE,IAAAA,QAAQ,EAAC;AAAX;AAJV,CAlBW,CAAf,C,CAyBA;;AACA,IAAMC,MAAM,GAAG,IAAIb,MAAJ,CAAW;AACtBc,EAAAA,IAAI,EAAC,SADiB;AAEtBC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFI;AAGtBZ,EAAAA,MAAM,EAANA;AAHsB,CAAX,CAAf;;AAMA,SAASa,UAAT,GAAqB;AACjB,SAAOC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAP;AACH;;AAEDR,MAAM,CAACS,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAAClB,IAAP,CAAYE,QAAhB;AAAA,GAAtB,CAAJ,EAAqD;AACnD;AACA;AACA,QAAIO,UAAU,OAAO,MAArB,EAA6B;AAC3BM,MAAAA,IAAI,CAAC;AACHlB,QAAAA,IAAI,EAAE,QADH;AAEHsB,QAAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAEP,EAAE,CAACQ;AAAf;AAFJ,OAAD,CAAJ;AAIH,KALC,MAKK;AACHN,MAAAA,IAAI;AACP;AACF,GAXC,MAWK,IAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAAClB,IAAP,CAAYE,QAAhB;AAAA,GAAtB,CAAJ,EAAqD;AACxD,QAAIO,UAAU,OAAO,MAArB,EAA6B;AAC3BM,MAAAA,IAAI,CAAC;AACHlB,QAAAA,IAAI,EAAE,OADH;AAEHsB,QAAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAEP,EAAE,CAACQ;AAAf;AAFJ,OAAD,CAAJ;AAIH,KALC,MAKK;AACHN,MAAAA,IAAI;AACP;AACF,GATM,MASA;AACHA,IAAAA,IAAI,GADD,CACI;AACV;AACA,CAxBD;AA0BA,eAAeZ,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from './Views/Home.vue'\nimport Login from './Views/Login.vue'\nimport Register from './Views/Register.vue'\nimport Dashbd from './Views/Dashbd.vue'\n\nVue.use(Router);\n\nconst routes = [\n    {\n        path: \"/\",\n        name: \"Home\",\n        component: Home\n    },\n    {\n        path: \"/login\",\n        name: \"Login\",\n        component: Login,\n        meta: { guestOnly:true }\n    },\n    {\n        path: \"/register\",\n        name: \"Register\",\n        component: Register,\n        meta: { guestOnly:true }\n    },\n    {\n        path: \"/Dashbd\",\n        name: \"Dashbd\",\n        component: Dashbd,\n        meta: { authOnly:true }\n    },\n]\n//access laravel's var of env\nconst router = new Router({\n    mode:\"history\",\n    base: process.env.BASE_URL,\n    routes\n   });\n\nfunction isLoggedIn(){\n    return localStorage.getItem(\"auth\");\n}\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.authOnly)) {\n    // このルートはログインされているかどうか認証が必要です。\n    // もしされていないならば、ログインページにリダイレクトします。\n    if (isLoggedIn() !== \"true\") {\n      next({\n        path: '/login',\n        query: { redirect: to.fullPath }\n    })\n  } else {\n      next()\n  }\n} else if (to.matched.some(record => record.meta.authOnly)) {\n    if (isLoggedIn() === \"true\") {\n      next({\n        path: '/Home',\n        query: { redirect: to.fullPath }\n    })\n  } else {\n      next()\n  }\n} else {\n    next() // next() を常に呼び出すようにしてください!\n}\n})\n\nexport default router;\n"]}]}